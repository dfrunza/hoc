/*
include "str.hoc";
include "math.hoc";
include "sort.hoc";
include "fibo.hoc";
include "fizzbuzz.hoc";
*/

/*
proc void new(int size)
{
  asm
  {
    push_reg fp
    push_int -16
    add_int
    load 4
    new
  }
}
*/

proc void putc(char c)
{
  asm
  {
    push_reg fp
    push_int -13
    add_int
    load 1
    putc
  }
}

proc void print_str(char* str)
{
  while(*str != '\0')
  {
    putc(*str);
    str = str + (type char*)1;
  }
}

proc void fizzbuzz(int n)
{
  if(n > 0)
  {
    var int i = 1;
    while(i <= n)
    {
      if((i % 15) == 0)
        print_str(&"fizzbuzz");
      else if((i % 3) == 0)
        print_str(&"buzz");
      else if((i % 5) == 0)
        print_str(&"fizz");
      else
        print_str(&"i");

      print_str(&"\n");
      i = i + 1;
    }
  }
}

proc void main()
{
  print_str(&"fizz");
}

main();

